version: '2'

services:
  fivem:
    image: andruida/fivem:latest
    container_name: fivem
    restart: on-failure
    stdin_open: true
    tty: true
    volumes:
      - "/path/to/resources/folder:/config"
      - "/path/to/txAdmin/config:/txData"
    ports:
      - "30120:30120"
      - "30120:30120/udp"
      - "40120:40120"
    environment:
      SERVER_PROFILE: "default"
      LICENCE_KEY: "license-key-here"
      FIVEM_PORT: "30120"
      WEB_PORT: "40120"
      HOST_UID: 1000
      HOST_GID: 1000
      MARIADB_DATABASE_NAME: "name-of-database"
      FIVEM_HOSTNAME: "hostname-to-fivem-server"
      STEAM_WEBAPIKEY: "api-key-herer"
    depends_on:
      - mariadb
  mariadb:
    image: mariadb:10.4
    restart: on-failure
    volumes:
      # Remember to change.
      - /path/to/mariadb:/var/lib/mysql
    environment:
      MYSQL_ROOT_PASSWORD: password
  phpmyadmin:
    image: phpmyadmin/phpmyadmin:latest
    restart: on-failure
    ports:
      - 8100-8105:80
    environment:
      - PMA_HOST=mariadb
    depends_on:
      - mariadb
